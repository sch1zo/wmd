(function(b){var a=0;b.fn.wmd=function(c){this.each(function(){var e={preview:true};var d=b.extend({},c||{},e);if(!d.button_bar){d.button_bar="wmd-button-bar-"+a;b("<div/>").attr("class","wmd-button-bar").attr("id",d.button_bar).insertBefore(this)}if(typeof(d.preview)=="boolean"&&d.preview){d.preview="wmd-preview-"+a;b("<div/>").attr("class","wmd-preview").attr("id",d.preview).insertAfter(this)}if(typeof(d.output)=="boolean"&&d.output){d.output="wmd-output-"+a;b("<div/>").attr("class","wmd-output").attr("id",d.output).insertAfter(this)}this.id=this.id||"wmd-input-"+a;d.input=this.id;setup_wmd(d);a++})}})(jQuery);(function(){var d;var o;WMDEditor=function(p){this.options=WMDEditor.util.extend({},WMDEditor.defaults,p||{});k(this,this.options);this.startEditor()};top.WMDEditor=WMDEditor;WMDEditor.defaults={version:2,output_format:"markdown",lineLength:40,button_bar:"wmd-button-bar",preview:"wmd-preview",output:"wmd-output",input:"wmd-input",imageDialogText:"<p style='margin-top: 0px'><b>Enter the image URL.</b></p><p>You can also add a title, which will be displayed as a tool tip.</p><p><br />Example:<br />http://wmd-editor.com/images/cloud1.jpg   \"Optional title\"</p>",linkDialogText:"<p style='margin-top: 0px'><b>Enter the web address.</b></p><p>You can also add a title, which will be displayed as a tool tip.</p><p><br />Example:<br />http://wmd-editor.com/   \"Optional title\"</p>",imageDefaultText:"http://",linkDefaultText:"http://",imageDirectory:"images/",helpLink:"http://wmd-editor.com/",helpHoverTitle:"WMD website",helpTarget:"_blank",previewPollInterval:500,pastePollInterval:100,buttons:"bold italic link blockquote code image ol ul heading hr"};WMDEditor.prototype={getPanels:function(){return{buttonBar:m.getElementById(this.options.button_bar),preview:m.getElementById(this.options.preview),output:m.getElementById(this.options.output),input:m.getElementById(this.options.input)}},startEditor:function(){this.panels=this.getPanels();this.previewMgr=new e(this);edit=new this.editor(this.previewMgr.refresh);this.previewMgr.refresh(true)}};var g={isVisible:function(p){return p.offsetWidth>0||p.offsetHeight>0},addEvent:function(q,p,r){if(q.attachEvent){q.attachEvent("on"+p,r)}else{q.addEventListener(p,r,false)}},removeEvent:function(q,p,r){if(q.detachEvent){q.detachEvent("on"+p,r)}else{q.removeEventListener(p,r,false)}},fixEolChars:function(p){p=p.replace(/\r\n/g,"\n");p=p.replace(/\r/g,"\n");return p},extendRegExp:function(s,u,r){if(u===null||u===undefined){u=""}if(r===null||r===undefined){r=""}var t=s.toString();var q="";var p=t.match(/\/([gim]*)$/);if(p===null){q=p[0]}else{q=""}t=t.replace(/(^\/|\/[gim]*$)/g,"");t=u+t+r;return new RegExp(t,q)},createImage:function(p){var r=imageDirectory+p;var q=m.createElement("img");q.className="wmd-button";q.src=r;return q},prompt:function(v,y,r){var s;var p;var t;if(y===undefined){y=""}var u=function(z){var A=(z.charCode||z.keyCode);if(A===27){w(true)}};var w=function(z){g.removeEvent(m.body,"keydown",u);var A=t.value;if(z){A=null}else{A=A.replace("http://http://","http://");A=A.replace("http://https://","https://");A=A.replace("http://ftp://","ftp://");if(A.indexOf("http://")===-1&&A.indexOf("ftp://")===-1&&A.indexOf("https://")===-1){A="http://"+A}}s.parentNode.removeChild(s);p.parentNode.removeChild(p);r(A);return false};var q=function(){p=m.createElement("div");p.className="wmd-prompt-background";style=p.style;style.position="absolute";style.top="0";style.zIndex="1000";if(f.isKonqueror){style.backgroundColor="transparent"}else{if(f.isIE){style.filter="alpha(opacity=50)"}else{style.opacity="0.5"}}var z=h.getPageSize();style.height=z[1]+"px";if(f.isIE){style.left=m.documentElement.scrollLeft;style.width=m.documentElement.clientWidth}else{style.left="0";style.width="100%"}m.body.appendChild(p)};var x=function(){s=m.createElement("div");s.className="wmd-prompt-dialog";s.style.padding="10px;";s.style.position="fixed";s.style.width="400px";s.style.zIndex="1001";var z=m.createElement("div");z.innerHTML=v;z.style.padding="5px";s.appendChild(z);var A=m.createElement("form");A.onsubmit=function(){return w(false)};style=A.style;style.padding="0";style.margin="0";style.cssFloat="left";style.width="100%";style.textAlign="center";style.position="relative";s.appendChild(A);t=m.createElement("input");t.type="text";t.value=y;style=t.style;style.display="block";style.width="80%";style.marginLeft=style.marginRight="auto";A.appendChild(t);var C=m.createElement("input");C.type="button";C.onclick=function(){return w(false)};C.value="OK";style=C.style;style.margin="10px";style.display="inline";style.width="7em";var B=m.createElement("input");B.type="button";B.onclick=function(){return w(true)};B.value="Cancel";style=B.style;style.margin="10px";style.display="inline";style.width="7em";if(/mac/.test(a.platform.toLowerCase())){A.appendChild(B);A.appendChild(C)}else{A.appendChild(C);A.appendChild(B)}g.addEvent(m.body,"keydown",u);s.style.top="50%";s.style.left="50%";s.style.display="block";if(f.isIE_5or6){s.style.position="absolute";s.style.top=m.documentElement.scrollTop+200+"px";s.style.left="50%"}m.body.appendChild(s);s.style.marginTop=-(h.getHeight(s)/2)+"px";s.style.marginLeft=-(h.getWidth(s)/2)+"px"};q();top.setTimeout(function(){x();var A=y.length;if(t.selectionStart!==undefined){t.selectionStart=0;t.selectionEnd=A}else{if(t.createTextRange){var z=t.createTextRange();z.collapse(false);z.moveStart("character",-A);z.moveEnd("character",A);z.select()}}t.focus()},0)},extend:function(){function p(t,s){for(var u in s){t[u]=s[u]}return t}var r={};for(var q=0;q<arguments.length;q++){p(r,arguments[q])}return r}};var h={getTop:function(r,q){var p=r.offsetTop;if(!q){while(r=r.offsetParent){p+=r.offsetTop}}return p},getHeight:function(p){return p.offsetHeight||p.scrollHeight},getWidth:function(p){return p.offsetWidth||p.scrollWidth},getPageSize:function(){var q,r;var p,u;if(self.innerHeight&&self.scrollMaxY){q=m.body.scrollWidth;r=self.innerHeight+self.scrollMaxY}else{if(m.body.scrollHeight>m.body.offsetHeight){q=m.body.scrollWidth;r=m.body.scrollHeight}else{q=m.body.offsetWidth;r=m.body.offsetHeight}}if(self.innerHeight){p=self.innerWidth;u=self.innerHeight}else{if(m.documentElement&&m.documentElement.clientHeight){p=m.documentElement.clientWidth;u=m.documentElement.clientHeight}else{if(m.body){p=m.body.clientWidth;u=m.body.clientHeight}}}var t=Math.max(q,p);var s=Math.max(r,u);return[t,s,p,u]}};var l=function(p){var q=this;var r=p;this.init=function(){if(!g.isVisible(r)){return}this.setInputAreaSelectionStartEnd();this.scrollTop=r.scrollTop;if(!this.text&&r.selectionStart||r.selectionStart===0){this.text=r.value}};this.setInputAreaSelection=function(){if(!g.isVisible(r)){return}if(r.selectionStart!==undefined&&!f.isOpera){r.focus();r.selectionStart=q.start;r.selectionEnd=q.end;r.scrollTop=q.scrollTop}else{if(m.selection){if(m.activeElement&&m.activeElement!==r){return}r.focus();var s=r.createTextRange();s.moveStart("character",-r.value.length);s.moveEnd("character",-r.value.length);s.moveEnd("character",q.end);s.moveStart("character",q.start);s.select()}}};this.setInputAreaSelectionStartEnd=function(){if(r.selectionStart||r.selectionStart===0){q.start=r.selectionStart;q.end=r.selectionEnd}else{if(m.selection){q.text=g.fixEolChars(r.value);var v;if(d&&o){v=o;d=false}else{v=m.selection.createRange()}var w=g.fixEolChars(v.text);var u="\x07";var t=u+w+u;v.text=t;var x=g.fixEolChars(r.value);v.moveStart("character",-t.length);v.text=w;q.start=x.indexOf(u);q.end=x.lastIndexOf(u)-u.length;var s=q.text.length-g.fixEolChars(r.value).length;if(s){v.moveStart("character",-w.length);while(s--){w+="\n";q.end+=1}v.text=w}this.setInputAreaSelection()}}};this.restore=function(){if(q.text!=undefined&&q.text!=r.value){r.value=q.text}this.setInputAreaSelection();r.scrollTop=q.scrollTop};this.getChunks=function(){var s=new i();s.before=g.fixEolChars(q.text.substring(0,q.start));s.startTag="";s.selection=g.fixEolChars(q.text.substring(q.start,q.end));s.endTag="";s.after=g.fixEolChars(q.text.substring(q.end));s.scrollTop=q.scrollTop;return s};this.setChunks=function(s){s.before=s.before+s.startTag;s.after=s.endTag+s.after;if(f.isOpera){s.before=s.before.replace(/\n/g,"\r\n");s.selection=s.selection.replace(/\n/g,"\r\n");s.after=s.after.replace(/\n/g,"\r\n")}this.start=s.before.length;this.end=s.before.length+s.selection.length;this.text=s.before+s.selection+s.after;this.scrollTop=s.scrollTop};this.init()};var i=function(){};i.prototype.findTags=function(q,s){var p=this;var r;if(q){r=g.extendRegExp(q,"","$");this.before=this.before.replace(r,function(t){p.startTag=p.startTag+t;return""});r=g.extendRegExp(q,"^","");this.selection=this.selection.replace(r,function(t){p.startTag=p.startTag+t;return""})}if(s){r=g.extendRegExp(s,"","$");this.selection=this.selection.replace(r,function(t){p.endTag=t+p.endTag;return""});r=g.extendRegExp(s,"^","");this.after=this.after.replace(r,function(t){p.endTag=t+p.endTag;return""})}};i.prototype.trimWhitespace=function(p){this.selection=this.selection.replace(/^(\s*)/,"");if(!p){this.before+=n.$1}this.selection=this.selection.replace(/(\s*)$/,"");if(!p){this.after=n.$1+this.after}};i.prototype.addBlankLines=function(s,r,p){if(s===undefined){s=1}if(r===undefined){r=1}s++;r++;var t;var u;var q;this.selection=this.selection.replace(/(^\n*)/,"");this.startTag=this.startTag+(q?q[1]:"");q=/(\n*$)/.exec(this.selection);this.selection=this.selection.replace(/(\n*$)/,"");this.endTag=this.endTag+(q?q[1]:"");q=/(^\n*)/.exec(this.startTag);this.startTag=this.startTag.replace(/(^\n*)/,"");this.before=this.before+(q?q[1]:"");q=/(\n*$)/.exec(this.endTag);this.endTag=this.endTag.replace(/(\n*$)/,"");this.after=this.after+(q?q[1]:"");if(this.before){t=u="";while(s--){t+="\\n?";u+="\n"}if(p){t="\\n*"}this.before=this.before.replace(new n(t+"$",""),u)}if(this.after){t=u="";while(r--){t+="\\n?";u+="\n"}if(p){t="\\n*"}this.after=this.after.replace(new n(t,""),u)}};var j=function(w,z,r){var p=this;var u=w;var q;var s;var v;var t;this.tick=function(){if(!g.isVisible(u)){return}if(u.selectionStart||u.selectionStart===0){var B=u.selectionStart;var A=u.selectionEnd;if(B!=q||A!=s){q=B;s=A;if(v!=u.value){v=u.value;return true}}}return false};var y=function(){if(!g.isVisible(u)){return}if(p.tick()){z()}};var x=function(){t=top.setInterval(y,r)};this.destroy=function(){top.clearInterval(t)};x()};var e=function(E){var r=this;var G;var q;var x;var w;var C;var y;var s=3000;var z="delayed";var u=function(I,J){g.addEvent(I,"input",J);I.onpaste=J;I.ondrop=J;g.addEvent(I,"keypress",J);g.addEvent(I,"keydown",J);q=new j(E.panels.input,J,E.options.previewPollInterval)};var B=function(){var I=0;if(top.innerHeight){I=top.pageYOffset}else{if(m.documentElement&&m.documentElement.scrollTop){I=m.documentElement.scrollTop}else{if(m.body){I=m.body.scrollTop}}}return I};var v=function(){if(!E.panels.preview&&!E.panels.output){return}var K=E.panels.input.value;if(K&&K==C){return}else{C=K}var J=new Date().getTime();if(!G&&E.showdown){G=new E.showdown.converter()}if(G){K=G.makeHtml(K)}var I=new Date().getTime();w=I-J;p(K);y=K};var F=function(){if(x){top.clearTimeout(x);x=undefined}if(z!=="manual"){var I=0;if(z==="delayed"){I=w}if(I>s){I=s}x=top.setTimeout(v,I)}};var t=function(I){if(I.scrollHeight<=I.clientHeight){return 1}return I.scrollTop/(I.scrollHeight-I.clientHeight)};var H=function(){if(E.panels.preview){E.panels.preview.scrollTop=(E.panels.preview.scrollHeight-E.panels.preview.clientHeight)*t(E.panels.preview)}if(E.panels.output){E.panels.output.scrollTop=(E.panels.output.scrollHeight-E.panels.output.clientHeight)*t(E.panels.output)}};this.refresh=function(I){if(I){C="";v()}else{F()}};this.processingTime=function(){return w};this.output=function(){return y};this.setUpdateMode=function(I){z=I;r.refresh()};var A=true;var p=function(L){var I=h.getTop(E.panels.input)-B();if(E.panels.output){if(E.panels.output.value!==undefined){E.panels.output.value=L;E.panels.output.readOnly=true}else{var K=L.replace(/&/g,"&amp;");K=K.replace(/</g,"&lt;");E.panels.output.innerHTML="<pre><code>"+K+"</code></pre>"}}if(E.panels.preview){E.panels.preview.innerHTML=L}H();if(A){A=false;return}var J=h.getTop(E.panels.input)-B();if(f.isIE){top.setTimeout(function(){top.scrollBy(0,J-I)},0)}else{top.scrollBy(0,J-I)}};var D=function(){u(E.panels.input,F);v();if(E.panels.preview){E.panels.preview.scrollTop=0}if(E.panels.output){E.panels.output.scrollTop=0}};this.destroy=function(){if(q){q.destroy()}};D()};var c=function(z,D,r){var G=this;var v=[];var q=0;var y="none";var B;var p;var x;var u;var E=function(I,H){if(y!=I){y=I;if(!H){w()}}if(!f.isIE||y!="moving"){x=top.setTimeout(t,1)}else{u=null}};var t=function(){u=new l(z);p.tick();x=undefined};this.setCommandMode=function(){y="command";w();x=top.setTimeout(t,0)};this.canUndo=function(){return q>1};this.canRedo=function(){if(v[q+1]){return true}return false};this.undo=function(){if(G.canUndo()){if(B){B.restore();B=null}else{v[q]=new l(z);v[--q].restore();if(r){r()}}}y="none";z.focus();t()};this.redo=function(){if(G.canRedo()){v[++q].restore();if(r){r()}}y="none";z.focus();t()};var w=function(){var H=u||new l(z);if(!H){return false}if(y=="moving"){if(!B){B=H}return}if(B){if(v[q-1].text!=B.text){v[q++]=B}B=null}v[q++]=H;v[q+1]=null;if(r){r()}};var F=function(H){var J=false;if(H.ctrlKey||H.metaKey){var I=H.charCode||H.keyCode;var K=String.fromCharCode(I);switch(K){case"y":G.redo();J=true;break;case"z":if(!H.shiftKey){G.undo()}else{G.redo()}J=true;break}}if(J){if(H.preventDefault){H.preventDefault()}if(top.event){top.event.returnValue=false}return}};var A=function(H){if(!H.ctrlKey&&!H.metaKey){var I=H.keyCode;if((I>=33&&I<=40)||(I>=63232&&I<=63235)){E("moving")}else{if(I==8||I==46||I==127){E("deleting")}else{if(I==13){E("newlines")}else{if(I==27){E("escape")}else{if((I<16||I>20)&&I!=91){E("typing")}}}}}}};var s=function(){g.addEvent(z,"keypress",function(I){if((I.ctrlKey||I.metaKey)&&(I.keyCode==89||I.keyCode==90)){I.preventDefault()}});var H=function(){if(f.isIE||(u&&u.text!=z.value)){if(x==undefined){y="paste";w();t()}}};p=new j(z,H,D);g.addEvent(z,"keydown",F);g.addEvent(z,"keydown",A);g.addEvent(z,"mousedown",function(){E("moving")});z.onpaste=H;z.ondrop=H};var C=function(){s();t();w()};this.destroy=function(){if(p){p.destroy()}};C()};WMDEditor.util=g;WMDEditor.position=h;WMDEditor.TextareaState=l;WMDEditor.InputPoller=j;WMDEditor.PreviewManager=e;WMDEditor.UndoManager=c;var m=top.document;var n=top.RegExp;var a=top.navigator;function b(){var p={};p.isIE=/msie/.test(a.userAgent.toLowerCase());p.isIE_5or6=/msie 6/.test(a.userAgent.toLowerCase())||/msie 5/.test(a.userAgent.toLowerCase());p.isIE_7plus=p.isIE&&!p.isIE_5or6;p.isOpera=/opera/.test(a.userAgent.toLowerCase());p.isKonqueror=/konqueror/.test(a.userAgent.toLowerCase());return p}var f=b();var k=function(r,t){r.Command={};r.Global={};r.buttons={};r.showdown=top.Attacklab&&top.Attacklab.showdown;var q=WMDEditor.util;var p=WMDEditor.position;var s=r.Command;o=null;d=false;r.editor=function(D){if(!D){D=function(){}}var A=r.panels.input;var x=0;var E=this;var z;var G;var v;var B;var C;var J=function(L){A.focus();if(L.textOp){if(C){C.setCommandMode()}var N=new l(r.panels.input);if(!N){return}var P=N.getChunks();var K=function(){A.focus();if(P){N.setChunks(P)}N.restore();D()};var O=true;var M=L.textOp(P,K,O);if(!M){K()}}if(L.execute){L.execute(E)}};var H=function(){if(C){u(r.buttons["wmd-undo-button"],C.canUndo());u(r.buttons["wmd-redo-button"],C.canRedo())}};var u=function(K,M){var N="0px";var O="-20px";var L="-40px";if(M){K.style.backgroundPosition=K.XShift+" "+N;K.onmouseover=function(){this.style.backgroundPosition=this.XShift+" "+L};K.onmouseout=function(){this.style.backgroundPosition=this.XShift+" "+N};if(f.isIE){K.onmousedown=function(){d=true;o=document.selection.createRange()}}if(!K.isHelp){K.onclick=function(){if(this.onmouseout){this.onmouseout()}J(this);return false}}}else{K.style.backgroundPosition=K.XShift+" "+O;K.onmouseover=K.onmouseout=K.onclick=function(){}}};var y=function(){var P=document.getElementById(t.button_bar||"wmd-button-bar");var L="0px";var O="-20px";var U="-40px";var ab=document.createElement("ul");ab.className="wmd-button-row";ab=P.appendChild(ab);var V=0;function Z(ah,aj,ak){var ai=document.createElement("li");r.buttons[ah]=ai;ai.className="wmd-button "+ah;ai.XShift=V+"px";V-=20;if(aj){ai.title=aj}if(ak){ai.textOp=ak}return ai}function X(ah,aj,ak){var ai=Z(ah,aj,ak);u(ai,true);ab.appendChild(ai);return ai}var T=X("wmd-bold-button","Strong <strong> Ctrl+B",s.doBold);var S=X("wmd-italic-button","Emphasis <em> Ctrl+I",s.doItalic);var Y=X("wmd-link-button","Hyperlink <a> Ctrl+L",function(ah,ai,aj){return s.doLinkOrImage(ah,ai,false)});var ac=X("wmd-quote-button","Blockquote <blockquote> Ctrl+Q",s.doBlockquote);var ad=X("wmd-code-button","Code Sample <pre><code> Ctrl+K",s.doCode);var Q=X("wmd-image-button","Image <img> Ctrl+G",function(ah,ai,aj){return s.doLinkOrImage(ah,ai,true)});var R=X("wmd-olist-button","Numbered List <ol> Ctrl+O",function(ah,ai,aj){s.doList(ah,ai,true,aj)});var ag=X("wmd-ulist-button","Bulleted List <ul> Ctrl+U",function(ah,ai,aj){s.doList(ah,ai,false,aj)});var aa=X("wmd-heading-button","Heading <h1>/<h2> Ctrl+H",s.doHeading);var M=X("wmd-hr-button","Horizontal Rule <hr> Ctrl+R",s.doHorizontalRule);var K=X("wmd-undo-button","Undo - Ctrl+Z");K.execute=function(ah){ah.undo()};var W=null;var af=X("wmd-redo-button","Redo - Ctrl+Y");if(/win/.test(a.platform.toLowerCase())){af.title="Redo - Ctrl+Y"}else{af.title="Redo - Ctrl+Shift+Z"}af.execute=function(ah){ah.redo()};var ae=Z("wmd-help-button");ae.isHelp=true;u(ae,true);ab.appendChild(ae);var N=document.createElement("a");N.href=t.helpLink;N.target=t.helpTarget;N.title=t.helpHoverTitle;ae.appendChild(N);H()};var w=function(){if(/\?noundo/.test(m.location.href)){r.nativeUndo=true}if(!r.nativeUndo){C=new c(r.panels.input,r.options.pastePollInterval,function(){D();H()})}y();var L="keydown";if(f.isOpera){L="keypress"}q.addEvent(A,L,function(N){if(N.ctrlKey||N.metaKey){var O=N.charCode||N.keyCode;var M=String.fromCharCode(O).toLowerCase();switch(M){case"b":J(r.buttons["wmd-bold-button"]);break;case"i":J(r.buttons["wmd-italic-button"]);break;case"l":J(r.buttons["wmd-link-button"]);break;case"q":J(r.buttons["wmd-quote-button"]);break;case"k":J(r.buttons["wmd-code-button"]);break;case"g":J(r.buttons["wmd-image-button"]);break;case"o":J(r.buttons["wmd-olist-button"]);break;case"u":J(r.buttons["wmd-ulist-button"]);break;case"h":J(r.buttons["wmd-heading-button"]);break;case"r":J(r.buttons["wmd-hr-button"]);break;case"y":J(r.buttons["wmd-redo-button"]);break;case"z":if(N.shiftKey){J(r.buttons["wmd-redo-button"])}else{J(r.buttons["wmd-undo-button"])}break;default:return}if(N.preventDefault){N.preventDefault()}if(top.event){top.event.returnValue=false}}});q.addEvent(A,"keyup",function(M){if(!M.shiftKey&&!M.ctrlKey&&!M.metaKey){var N=M.charCode||M.keyCode;if(N===13){fakeButton={};fakeButton.textOp=s.doAutoindent;J(fakeButton)}}});if(f.isIE){q.addEvent(A,"keydown",function(M){var N=M.keyCode;if(N===27){return false}})}if(A.form){var K=A.form.onsubmit;A.form.onsubmit=function(){F();if(K){return K.apply(this,arguments)}}}};var F=function(){if(r.showdown){var K=new r.showdown.converter()}var L=A.value;var M=function(){A.value=L};if(!/markdown/.test(t.output_format.toLowerCase())){if(K){A.value=K.makeHtml(L);top.setTimeout(M,0)}}return true};this.undo=function(){if(C){C.undo()}};this.redo=function(){if(C){C.redo()}};var I=function(){w()};this.destroy=function(){if(C){C.destroy()}if(v.parentNode){v.parentNode.removeChild(v)}if(A){A.style.marginTop=""}top.clearInterval(B)};I()};s.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)";s.unwrap=function(v){var u=new n("([^\\n])\\n(?!(\\n|"+s.prefixes+"))","g");v.selection=v.selection.replace(u,"$1 $2")};s.wrap=function(v,u){s.unwrap(v);var w=new n("(.{1,"+u+"})( +|$\\n?)","gm");v.selection=v.selection.replace(w,function(x,y){if(new n("^"+s.prefixes,"").test(x)){return x}return y+"\n"});v.selection=v.selection.replace(/\s+$/,"")};s.doBold=function(u,v,w){return s.doBorI(u,2,"strong text")};s.doItalic=function(u,v,w){return s.doBorI(u,1,"emphasized text")};s.doBorI=function(x,B,A){x.trimWhitespace();x.selection=x.selection.replace(/\n{2,}/g,"\n");x.before.search(/(\**$)/);var z=n.$1;x.after.search(/(^\**)/);var y=n.$1;var u=Math.min(z.length,y.length);if((u>=B)&&(u!=2||B!=1)){x.before=x.before.replace(n("[*]{"+B+"}$",""),"");x.after=x.after.replace(n("^[*]{"+B+"}",""),"")}else{if(!x.selection&&y){x.after=x.after.replace(/^([*_]*)/,"");x.before=x.before.replace(/(\s?)$/,"");var w=n.$1;x.before=x.before+y+w}else{if(!x.selection&&!y){x.selection=A}var v=B<=1?"*":"**";x.before=x.before+v;x.after=v+x.after}}return};s.stripLinkDefs=function(v,u){v=v.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(z,A,w,x,y){u[A]=z.replace(/\s*$/,"");if(x){u[A]=z.replace(/["(](.+?)[")]$/,"");return x+y}return""});return v};s.addLinkDef=function(B,x){var u=0;var w={};B.before=s.stripLinkDefs(B.before,w);B.selection=s.stripLinkDefs(B.selection,w);B.after=s.stripLinkDefs(B.after,w);var v="";var A=/(\[(?:\[[^\]]*\]|[^\[\]])*\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g;var z=function(D){u++;D=D.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+u+"]:");v+="\n"+D};var y=function(E,F,G,D){if(w[G]){z(w[G]);return F+u+D}return E};B.before=B.before.replace(A,y);if(x){z(x)}else{B.selection=B.selection.replace(A,y)}var C=u;B.after=B.after.replace(A,y);if(B.after){B.after=B.after.replace(/\n*$/,"")}if(!B.after){B.selection=B.selection.replace(/\n*$/,"")}B.after+="\n\n"+v;return C};s.doLinkOrImage=function(u,v,x){u.trimWhitespace();u.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);if(u.endTag.length>1){u.startTag=u.startTag.replace(/!?\[/,"");u.endTag="";s.addLinkDef(u,null)}else{if(/\n\n/.test(u.selection)){s.addLinkDef(u,null);return}var w=function(A){if(A!==null){u.startTag=u.endTag="";var z=" [999]: "+A;var y=s.addLinkDef(u,z);u.startTag=x?"![":"[";u.endTag="]["+y+"]";if(!u.selection){if(x){u.selection="alt text"}else{u.selection="link text"}}}v()};if(x){q.prompt(t.imageDialogText,t.imageDefaultText,w)}else{q.prompt(t.linkDialogText,t.linkDefaultText,w)}return true}};s.doAutoindent=function(u,v,w){u.before=u.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n");u.before=u.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n");u.before=u.before.replace(/(\n|^)[ \t]+\n$/,"\n\n");w=false;if(/(\n|^)[ ]{0,3}([*+-])[ \t]+.*\n$/.test(u.before)){if(s.doList){s.doList(u,v,false,true)}}if(/(\n|^)[ ]{0,3}(\d+[.])[ \t]+.*\n$/.test(u.before)){if(s.doList){s.doList(u,v,true,true)}}if(/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(u.before)){if(s.doBlockquote){s.doBlockquote(u,v,w)}}if(/(\n|^)(\t|[ ]{4,}).*\n$/.test(u.before)){if(s.doCode){s.doCode(u,v,w)}}};s.doBlockquote=function(v,w,y){v.selection=v.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(C,B,A,z){v.before+=B;v.after=z+v.after;return A});v.before=v.before.replace(/(>[ \t]*)$/,function(A,z){v.selection=z+v.selection;return""});var u=y?"Blockquote":"";v.selection=v.selection.replace(/^(\s|>)+$/,"");v.selection=v.selection||u;if(v.before){v.before=v.before.replace(/\n?$/,"\n")}if(v.after){v.after=v.after.replace(/^\n?/,"\n")}v.before=v.before.replace(/(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*$)/,function(z){v.startTag=z;return""});v.after=v.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(z){v.endTag=z;return""});var x=function(A){var z=A?"> ":"";if(v.startTag){v.startTag=v.startTag.replace(/\n((>|\s)*)\n$/,function(C,B){return"\n"+B.replace(/^[ ]{0,3}>?[ \t]*$/gm,z)+"\n"})}if(v.endTag){v.endTag=v.endTag.replace(/^\n((>|\s)*)\n/,function(C,B){return"\n"+B.replace(/^[ ]{0,3}>?[ \t]*$/gm,z)+"\n"})}};if(/^(?![ ]{0,3}>)/m.test(v.selection)){v.selection=v.selection.replace(/^/gm,"> ");x(true);v.addBlankLines()}else{v.selection=v.selection.replace(/^[ ]{0,3}> ?/gm,"");s.unwrap(v);x(false);if(!/^(\n|^)[ ]{0,3}>/.test(v.selection)&&v.startTag){v.startTag=v.startTag.replace(/\n{0,2}$/,"\n\n")}if(!/(\n|^)[ ]{0,3}>.*$/.test(v.selection)&&v.endTag){v.endTag=v.endTag.replace(/^\n{0,2}/,"\n\n")}}if(!/\n/.test(v.selection)){v.selection=v.selection.replace(/^(> *)/,function(z,A){v.startTag+=A;return""})}};s.doCode=function(u,v,z){var y=/\S[ ]*$/.test(u.before);var A=/^[ ]*\S/.test(u.after);if((!A&&!y)||/\n/.test(u.selection)){u.before=u.before.replace(/[ ]{4}$/,function(B){u.selection=B+u.selection;return""});var x=1;var w=1;if(/\n(\t|[ ]{4,}).*\n$/.test(u.before)||u.after===""){x=0}if(/^\n(\t|[ ]{4,})/.test(u.after)){w=0}u.addBlankLines(x,w);if(!u.selection){u.startTag="    ";u.selection=z?"enter code here":""}else{if(/^[ ]{0,3}\S/m.test(u.selection)){u.selection=u.selection.replace(/^/gm,"    ")}else{u.selection=u.selection.replace(/^[ ]{4}/gm,"")}}}else{u.trimWhitespace();u.findTags(/`/,/`/);if(!u.startTag&&!u.endTag){u.startTag=u.endTag="`";if(!u.selection){u.selection=z?"enter code here":""}}else{if(u.endTag&&!u.startTag){u.before+=u.endTag;u.endTag=""}else{u.startTag=u.endTag=""}}}};s.doList=function(F,y,x,H){var I=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/;var G=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/;var u="-";var C=1;var A=function(){var J;if(x){J=" "+C+". ";C++}else{J=" "+u+" "}return J};var B=function(J){if(x===undefined){x=/^\s*\d/.test(J)}J=J.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(K){return A()});return J};F.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null);if(F.before&&!/\n$/.test(F.before)&&!/^\n/.test(F.startTag)){F.before+=F.startTag;F.startTag=""}if(F.startTag){var w=/\d+[.]/.test(F.startTag);F.startTag="";F.selection=F.selection.replace(/\n[ ]{4}/g,"\n");s.unwrap(F);F.addBlankLines();if(w){F.after=F.after.replace(G,B)}if(x==w){return}}var z=1;F.before=F.before.replace(I,function(J){if(/^\s*([*+-])/.test(J)){u=n.$1}z=/[^\n]\n\n[^\n]/.test(J)?1:0;return B(J)});if(!F.selection){F.selection=H?"List item":" "}var D=A();var v=1;F.after=F.after.replace(G,function(J){v=/[^\n]\n\n[^\n]/.test(J)?1:0;return B(J)});F.trimWhitespace(true);F.addBlankLines(z,v,true);F.startTag=D;var E=D.replace(/./g," ");s.wrap(F,t.lineLength-E.length);F.selection=F.selection.replace(/\n/g,"\n"+E)};s.doHeading=function(w,x,A){w.selection=w.selection.replace(/\s+/g," ");w.selection=w.selection.replace(/(^\s+|\s+$)/g,"");if(!w.selection){w.startTag="## ";w.selection="Heading";w.endTag=" ##";return}var y=0;w.findTags(/#+[ ]*/,/[ ]*#+/);if(/#+/.test(w.startTag)){y=n.lastMatch.length}w.startTag=w.endTag="";w.findTags(null,/\s?(-+|=+)/);if(/=+/.test(w.endTag)){y=1}if(/-+/.test(w.endTag)){y=2}w.startTag=w.endTag="";w.addBlankLines(1,1);var z=y==0?2:y-1;if(z>0){var v=z>=2?"-":"=";var u=w.selection.length;if(u>t.lineLength){u=t.lineLength}w.endTag="\n";while(u--){w.endTag+=v}}};s.doHorizontalRule=function(u,v,w){u.startTag="----------\n";u.selection="";u.addBlankLines(2,1,true)}}})();function setup_wmd(a){return new WMDEditor(a)}window.Attacklab=window.Attacklab||{};window.Attacklab["showdown"]=window.Attacklab["showdown"]||{};window.Attacklab["showdown"]["converter"]=function(){var a;var j;var A;var i=0;this["makeHtml"]=function(H){a=[];j=[];A=[];H=H.replace(/~/g,"~T");H=H.replace(/\$/g,"~D");H=H.replace(/\r\n/g,"\n");H=H.replace(/\r/g,"\n");H="\n\n"+H+"\n\n";H=z(H);H=H.replace(/^[ \t]+$/mg,"");H=m(H);H=d(H);H=G(H);H=q(H);H=H.replace(/~D/g,"$$");H=H.replace(/~T/g,"~");return H};var d=function(I){var H=I.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(L,N,M,K,J){N=N.toLowerCase();a[N]=h(M);if(K){return K+J}else{if(J){j[N]=J.replace(/"/g,"&quot;")}}return""});return H};var m=function(J){J=J.replace(/\n/g,"\n\n");var I="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del";var H="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";J=J.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,x);J=J.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,x);J=J.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,x);J=J.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,x);J=J.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,x);J=J.replace(/\n\n/g,"\n");return J};var x=function(H,I){var J=I;J=J.replace(/\n\n/g,"\n");J=J.replace(/^\n/,"");J=J.replace(/\n+$/g,"");J="\n\n~K"+(A.push(J)-1)+"K\n\n";return J};var G=function(I){I=f(I);var H=o("<hr />");I=I.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,H);I=I.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,H);I=I.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,H);I=E(I);I=b(I);I=u(I);I=m(I);I=g(I);return I};var r=function(H){H=C(H);H=l(H);H=e(H);H=F(H);H=y(H);H=n(H);H=h(H);H=c(H);H=H.replace(/[ ]+\n/g," <br />\n");return H};var l=function(I){var H=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;I=I.replace(H,function(K){var J=K.replace(/(.)<\/?code>(?=.)/g,"$1`");J=w(J,"\\`*_");return J});return I};var y=function(H){H=H.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,D);H=H.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,D);H=H.replace(/(\[([^\[\]]+)\])()()()()()/g,D);return H};var D=function(N,T,S,R,Q,P,M,L){if(L===undefined){L=""}var K=T;var I=S;var J=R.toLowerCase();var H=Q;var O=L;if(H==""){if(J==""){J=I.toLowerCase().replace(/ ?\n/g," ")}H="#"+J;if(a[J]!==undefined){H=a[J];if(j[J]!==undefined){O=j[J]}}else{if(K.search(/\(\s*\)$/m)>-1){H=""}else{return K}}}H=w(H,"*_");var U='<a href="'+H+'"';if(O!=""){O=O.replace(/"/g,"&quot;");O=w(O,"*_");U+=' title="'+O+'"'}U+=">"+I+"</a>";return U};var F=function(H){H=H.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,t);H=H.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,t);return H};var t=function(N,T,S,R,Q,P,M,L){var K=T;var J=S;var I=R.toLowerCase();var H=Q;var O=L;if(!O){O=""}if(H==""){if(I==""){I=J.toLowerCase().replace(/ ?\n/g," ")}H="#"+I;if(a[I]!==undefined){H=a[I];if(j[I]!==undefined){O=j[I]}}else{return K}}J=J.replace(/"/g,"&quot;");H=w(H,"*_");var U='<img src="'+H+'" alt="'+J+'"';O=O.replace(/"/g,"&quot;");O=w(O,"*_");U+=' title="'+O+'"';U+=" />";return U};var f=function(H){H=H.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(I,J){return o("<h1>"+r(J)+"</h1>")});H=H.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(J,I){return o("<h2>"+r(I)+"</h2>")});H=H.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(I,L,K){var J=L.length;return o("<h"+J+">"+r(K)+"</h"+J+">")});return H};var p;var E=function(I){I+="~0";var H=/^(([ ]{0,3}([*+\-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+\-]|\d+[.])[ \t]+)))/gm;if(i){I=I.replace(H,function(K,N,M){var O=N;var L=(M.search(/[*+\-]/g)>-1)?"ul":"ol";O=O.replace(/\n{2,}/g,"\n\n\n");var J=p(O);J=J.replace(/\s+$/,"");J="<"+L+">"+J+"</"+L+">\n";return J})}else{H=/(\n\n|^\n?)(([ ]{0,3}([*+\-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+\-]|\d+[.])[ \t]+)))/g;I=I.replace(H,function(L,P,N,K){var O=P;var Q=N;var M=(K.search(/[*+\-]/g)>-1)?"ul":"ol";Q=Q.replace(/\n{2,}/g,"\n\n\n");var J=p(Q);J=O+"<"+M+">\n"+J+"</"+M+">\n";return J})}I=I.replace(/~0/,"");return I};p=function(H){i++;H=H.replace(/\n{2,}$/,"\n");H+="~0";H=H.replace(/(\n)?(^[ \t]*)([*+\-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+\-]|\d+[.])[ \t]+))/gm,function(K,M,L,J,I){var O=I;var N=M;var P=L;if(N||(O.search(/\n{2,}/)>-1)){O=G(s(O))}else{O=E(s(O));O=O.replace(/\n$/,"");O=r(O)}return"<li>"+O+"</li>\n"});H=H.replace(/~0/g,"");i--;return H};var b=function(H){H+="~0";H=H.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(I,K,J){var L=K;var M=J;L=v(s(L));L=z(L);L=L.replace(/^\n+/g,"");L=L.replace(/\n+$/g,"");L="<pre><code>"+L+"\n</code></pre>";return o(L)+M});H=H.replace(/~0/,"");return H};var o=function(H){H=H.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(A.push(H)-1)+"K\n\n"};var C=function(H){H=H.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(K,M,L,J,I){var N=J;N=N.replace(/^([ \t]*)/g,"");N=N.replace(/[ \t]*$/g,"");N=v(N);return M+"<code>"+N+"</code>"});return H};var v=function(H){H=H.replace(/&/g,"&amp;");H=H.replace(/</g,"&lt;");H=H.replace(/>/g,"&gt;");H=w(H,"*_{}[]\\",false);return H};var c=function(H){H=H.replace(/(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\1/g,"<strong>$2</strong>");H=H.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>");return H};var u=function(H){H=H.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(I,J){var K=J;K=K.replace(/^[ \t]*>[ \t]?/gm,"~0");K=K.replace(/~0/g,"");K=K.replace(/^[ \t]+$/gm,"");K=G(K);K=K.replace(/(^|\n)/g,"$1  ");K=K.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(L,M){var N=M;N=N.replace(/^[ ]{2}/mg,"~0");N=N.replace(/~0/g,"");return N});return o("<blockquote>\n"+K+"\n</blockquote>")});return H};var g=function(O){var K;O=O.replace(/^\n+/g,"");O=O.replace(/\n+$/g,"");var N=O.split(/\n{2,}/g);var J=[];var H=N.length;for(K=0;K<H;K++){var M=N[K];if(M.search(/~K(\d+)K/g)>=0){J.push(M)}else{if(M.search(/\S/)>=0){M=r(M);M=M.replace(/^([ \t]*)/g,"<p>");M+="</p>";J.push(M)}}}H=J.length;for(K=0;K<H;K++){var I;while((I=/~K(\d+)K/.exec(J[K]))!==null){var L=A[I[1]];L=L.replace(/\$/g,"$$$$");J[K]=J[K].replace(/~K\d+K/,L)}}return J.join("\n\n")};var h=function(H){H=H.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");H=H.replace(/<(?![a-z\/?\$!])/gi,"&lt;");return H};var e=function(H){H=H.replace(/\\(\\)/g,k);H=H.replace(/\\([`*_{}\[\]()>#+-.!])/g,k);return H};var n=function(H){H=H.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>');H=H.replace(/<(?:mailto:)?([\-.\w]+\@[\-a-z0-9]+(\.[\-a-z0-9]+)*\.[a-z]+)>/gi,function(I,J){return B(q(J))});return H};var B=function(J){function I(L){var K="0123456789ABCDEF";var M=L.charCodeAt(0);return(K.charAt(M>>4)+K.charAt(M&15))}var H=[function(K){return"&#"+K.charCodeAt(0)+";"},function(K){return"&#x"+I(K)+";"},function(K){return K}];J="mailto:"+J;J=J.replace(/./g,function(K){if(K=="@"){K=H[Math.floor(Math.random()*2)](K)}else{if(K!=":"){var L=Math.random();K=(L>0.9?H[2](K):L>0.45?H[1](K):H[0](K))}}return K});J='<a href="'+J+'">'+J+"</a>";J=J.replace(/">.+:/g,'">');return J};var q=function(H){H=H.replace(/~E(\d+)E/g,function(I,K){var J=parseInt(K,10);return String.fromCharCode(J)});return H};var s=function(H){H=H.replace(/^(\t|[ ]{1,4})/gm,"~0");H=H.replace(/~0/g,"");return H};var z=function(H){H=H.replace(/\t(?=\t)/g,"    ");H=H.replace(/\t/g,"~A~B");H=H.replace(/~B(.+?)~A/g,function(I,L,K){var N=L;var J=4-N.length%4;for(var M=0;M<J;M++){N+=" "}return N});H=H.replace(/~A/g,"    ");H=H.replace(/~B/g,"");return H};var w=function(L,I,J){var H="(["+I.replace(/([\[\]\\])/g,"\\$1")+"])";if(J){H="\\\\"+H}var K=new RegExp(H,"g");L=L.replace(K,k);return L};var k=function(H,J){var I=J.charCodeAt(0);return"~E"+I+"E"}};window.Showdown=window.Attacklab["showdown"];if(window.Attacklab["fileLoaded"]){window.Attacklab["fileLoaded"]("showdown.js")};